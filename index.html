<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>McPherson Football Team Expense Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/babel-standalone@7.22.5/babel.min.js"></script>
</head>
<body class="bg-gradient-to-br from-purple-400 to-purple-600 min-h-screen flex items-center justify-center">
    <div id="root"></div>
    <script type="text/babel">
        const teams = [
            "Ajebo fc",
            "athletico",
            "Braga",
            "Brest",
            "Levante",
            "Psv"
        ];

        function ExpenseTracker() {
            const [view, setView] = React.useState('menu');
            const [expenses, setExpenses] = React.useState(() => {
                const saved = localStorage.getItem('mcpherson_expenses');
                return saved ? JSON.parse(saved) : [];
            });
            const [formData, setFormData] = React.useState({
                team: '',
                description: '',
                amount: ''
            });

            React.useEffect(() => {
                localStorage.setItem('mcpherson_expenses', JSON.stringify(expenses));
            }, [expenses]);

            const addExpense = () => {
                if (!formData.team || !formData.description || !formData.amount || isNaN(formData.amount)) {
                    alert("Please fill in all fields with valid data.");
                    return;
                }
                setExpenses([...expenses, {
                    team: formData.team,
                    description: formData.description,
                    amount: parseFloat(formData.amount)
                }]);
                setFormData({ team: '', description: '', amount: '' });
                setView('menu');
            };

            const viewExpenses = () => {
                return (
                    <div className="p-4">
                        <h2 className="text-xl font-bold mb-4">üìã All Logged Expenses</h2>
                        {expenses.length === 0 ? (
                            <p className="text-gray-600">‚ö†Ô∏è No expenses recorded yet.</p>
                        ) : (
                            <ul className="space-y-2">
                                {expenses.map((exp, index) => (
                                    <li key={index} className="bg-white p-2 rounded shadow">
                                        - {exp.team}: {exp.description} ‚Äî ‚Ç¶{exp.amount.toFixed(2)}
                                    </li>
                                ))}
                            </ul>
                        )}
                        <button
                            className="mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                            onClick={() => setView('menu')}
                        >
                            Back to Menu
                        </button>
                    </div>
                );
            };

            const viewTotals = () => {
                const totals = expenses.reduce((acc, exp) => {
                    acc[exp.team] = (acc[exp.team] || 0) + exp.amount;
                    return acc;
                }, {});
                return (
                    <div className="p-4">
                        <h2 className="text-xl font-bold mb-4">üìä Total Expenses by Team</h2>
                        {Object.keys(totals).length === 0 ? (
                            <p className="text-gray-600">‚ö†Ô∏è No expenses recorded yet.</p>
                        ) : (
                            <ul className="space-y-2">
                                {Object.entries(totals).map(([team, total]) => (
                                    <li key={team} className="bg-white p-2 rounded shadow">
                                        - {team}: ‚Ç¶{total.toFixed(2)}
                                    </li>
                                ))}
                            </ul>
                        )}
                        <button
                            className="mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                            onClick={() => setView('menu')}
                        >
                            Back to Menu
                        </button>
                    </div>
                );
            };

            const addExpenseForm = () => (
                <div className="p-4">
                    <h2 className="text-xl font-bold mb-4">‚ûï Add Expense</h2>
                    <div className="space-y-4">
                        <div>
                            <label className="block text-sm font-medium">Select Team</label>
                            <select
                                className="mt-1 block w-full p-2 border rounded"
                                value={formData.team}
                                onChange={(e) => setFormData({ ...formData, team: e.target.value })}
                            >
                                <option value="">Select a team</option>
                                {teams.map((team) => (
                                    <option key={team} value={team}>{team}</option>
                                ))}
                            </select>
                        </div>
                        <div>
                            <label className="block text-sm font-medium">Description</label>
                            <input
                                type="text"
                                className="mt-1 block w-full p-2 border rounded"
                                value={formData.description}
                                onChange={(e) => setFormData({ ...formData, description: e.target.value })}
                            />
                        </div>
                        <div>
                            <label className="block text-sm font-medium">Amount (‚Ç¶)</label>
                            <input
                                type="number"
                                step="0.01"
                                className="mt-1 block w-full p-2 border rounded"
                                value={formData.amount}
                                onChange={(e) => setFormData({ ...formData, amount: e.target.value })}
                            />
                        </div>
                        <div className="flex space-x-2">
                            <button
                                className="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"
                                onClick={addExpense}
                            >
                                Add Expense
                            </button>
                            <button
                                className="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"
                                onClick={() => setView('menu')}
                            >
                                Cancel
                            </button>
                        </div>
                    </div>
                </div>
            );

            const menu = () => (
                <div className="p-4">
                    <h1 className="text-2xl font-bold mb-4">üèüÔ∏è McPherson Football Team Expense Tracker</h1>
                    <div className="space-y-2">
                        <button
                            className="w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                            onClick={() => setView('add')}
                        >
                            1. ‚ûï Add Expense
                        </button>
                        <button
                            className="w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                            onClick={() => setView('view')}
                        >
                            2. üìã View All Expenses
                        </button>
                        <button
                            className="w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                            onClick={() => setView('totals')}
                        >
                            3. üìä View Total Expenses by Team
                        </button>
                        <button
                            className="w-full bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"
                            onClick={() => alert("Goodbye! ‚úÖ")}
                        >
                            4. ‚ùå Exit
                        </button>
                    </div>
                </div>
            );

            return (
                <div className="bg-white p-6 rounded-lg shadow-lg max-w-md w-full">
                    {view === 'menu' && menu()}
                    {view === 'add' && addExpenseForm()}
                    {view === 'view' && viewExpenses()}
                    {view === 'totals' && viewTotals()}
                </div>
            );
        }

        ReactDOM.render(<ExpenseTracker />, document.getElementById('root'));
    </script>
</body>
</html>